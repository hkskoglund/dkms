PACKAGE_NAME="dkms_build_exclusive_dependencies_test"
PACKAGE_VERSION="1.0"
BUILD_DEPENDS="dkms_build_exclusive_test"
DEST_MODULE_LOCATION[0]="/updates/dkms"
BUILD_EXCLUSIVE_ARCH="none"
AUTOINSTALL="yes"
file: ./test/dkms_build_exclusive_dependencies_test-1.0/dkms.conf
PACKAGE_NAME[0]=dkms_build_exclusive_dependencies_test
PACKAGE_VERSION[0]=1.0
BUILD_DEPENDS[0]=dkms_build_exclusive_test
BUILD_EXCLUSIVE_ARCH[0]=none
DEST_MODULE_LOCATION[0]=/updates/dkms
AUTOINSTALL[0]=yes

PACKAGE_NAME="dkms_build_exclusive_test"
PACKAGE_VERSION="1.0"
DEST_MODULE_LOCATION[0]="/updates/dkms"
BUILD_EXCLUSIVE_ARCH="none"
AUTOINSTALL="yes"
file: ./test/dkms_build_exclusive_test-1.0/dkms.conf
PACKAGE_NAME[0]=dkms_build_exclusive_test
PACKAGE_VERSION[0]=1.0
BUILD_EXCLUSIVE_ARCH[0]=none
DEST_MODULE_LOCATION[0]=/updates/dkms
AUTOINSTALL[0]=yes

PACKAGE_NAME="dkms_conf_test"
PACKAGE_VERSION="1.0"
DEST_MODULE_LOCATION[0]="/updates-dkms-test"
file: ./test/dkms_conf_test_defaulted_BUILT_MODULE_NAME/dkms.conf
PACKAGE_NAME[0]=dkms_conf_test
PACKAGE_VERSION[0]=1.0
DEST_MODULE_LOCATION[0]=/updates-dkms-test

file: ./test/dkms_conf_test_empty/dkms.conf

PACKAGE_NAME="dkms_conf_test"
PACKAGE_VERSION="1.0"
DEST_MODULE_NAME[0]="bar.ko"
DEST_MODULE_LOCATION="/wrong/path"
BUILT_MODULE_NAME[1]="bar.o"
DEST_MODULE_NAME[1]="foo"
file: ./test/dkms_conf_test_invalid/dkms.conf
PACKAGE_NAME[0]=dkms_conf_test
PACKAGE_VERSION[0]=1.0
BUILT_MODULE_NAME[0]=
DEST_MODULE_NAME[0]=bar.ko
DEST_MODULE_NAME[1]=foo
DEST_MODULE_LOCATION[0]=/wrong/path

PACKAGE_NAME="dkms_conf_test"
PACKAGE_VERSION="1.0"
AUTOINSTALL="yes"
file: ./test/dkms_conf_test_zero_modules/dkms.conf
PACKAGE_NAME[0]=dkms_conf_test
PACKAGE_VERSION[0]=1.0
AUTOINSTALL[0]=yes

PACKAGE_NAME="dkms_dependencies_test"
PACKAGE_VERSION="1.0"
BUILT_MODULE_NAME[0]="dkms_dependencies_test"
DEST_MODULE_LOCATION[0]="/kernel/extra"
BUILD_DEPENDS="dkms_failing_test"
MAKE="make all"
AUTOINSTALL="yes"
file: ./test/dkms_dependencies_test-1.0/dkms.conf
PACKAGE_NAME[0]=dkms_dependencies_test
PACKAGE_VERSION[0]=1.0
BUILD_DEPENDS[0]=dkms_failing_test
MAKE[0]=make all
BUILT_MODULE_NAME[0]=dkms_dependencies_test
DEST_MODULE_LOCATION[0]=/kernel/extra
AUTOINSTALL[0]=yes

PACKAGE_NAME="dkms_emptyver_test"
PACKAGE_VERSION="1.0"
# intentionally uses POSIX syntax (no array notation)
BUILT_MODULE_NAME="dkms_emptyver_test"
DEST_MODULE_LOCATION="/kernel/extra"
AUTOINSTALL="yes"
file: ./test/dkms_emptyver_test/dkms.conf
PACKAGE_NAME[0]=dkms_emptyver_test
PACKAGE_VERSION[0]=1.0
BUILT_MODULE_NAME[0]=dkms_emptyver_test
DEST_MODULE_LOCATION[0]=/kernel/extra
AUTOINSTALL[0]=yes

PACKAGE_NAME="dkms_failing_test"
PACKAGE_VERSION="1.0"
BUILT_MODULE_NAME[0]="dkms_failing_test"
DEST_MODULE_LOCATION[0]="/kernel/extra"
MAKE="make all"
AUTOINSTALL="yes"
file: ./test/dkms_failing_test-1.0/dkms.conf
PACKAGE_NAME[0]=dkms_failing_test
PACKAGE_VERSION[0]=1.0
MAKE[0]=make all
BUILT_MODULE_NAME[0]=dkms_failing_test
DEST_MODULE_LOCATION[0]=/kernel/extra
AUTOINSTALL[0]=yes

PACKAGE_NAME="dkms_multiver_test"
PACKAGE_VERSION="1.0"
BUILT_MODULE_NAME="dkms_multiver_test"

DEST_MODULE_LOCATION="/kernel/extra"
file: ./test/dkms_multiver_test/1.0/dkms.conf
PACKAGE_NAME[0]=dkms_multiver_test
PACKAGE_VERSION[0]=1.0
BUILT_MODULE_NAME[0]=dkms_multiver_test
DEST_MODULE_LOCATION[0]=/kernel/extra

PACKAGE_NAME="dkms_multiver_test"
PACKAGE_VERSION="2.0"
BUILT_MODULE_NAME="dkms_multiver_test"

DEST_MODULE_LOCATION="/kernel/extra"
file: ./test/dkms_multiver_test/2.0/dkms.conf
PACKAGE_NAME[0]=dkms_multiver_test
PACKAGE_VERSION[0]=2.0
BUILT_MODULE_NAME[0]=dkms_multiver_test
DEST_MODULE_LOCATION[0]=/kernel/extra

PACKAGE_NAME="dkms_noautoinstall_test"
PACKAGE_VERSION="1.0"
BUILT_MODULE_NAME[0]="dkms_noautoinstall_test"
DEST_MODULE_LOCATION[0]="/kernel/extra"
AUTOINSTALL=""
file: ./test/dkms_noautoinstall_test-1.0/dkms.conf
PACKAGE_NAME[0]=dkms_noautoinstall_test
PACKAGE_VERSION[0]=1.0
BUILT_MODULE_NAME[0]=dkms_noautoinstall_test
DEST_MODULE_LOCATION[0]=/kernel/extra
AUTOINSTALL[0]=

PACKAGE_NAME="dkms_nover_test"
PACKAGE_VERSION="1.0"
# intentionally uses POSIX syntax (no array notation)
BUILT_MODULE_NAME="dkms_nover_test"
DEST_MODULE_LOCATION="/kernel/extra"
AUTOINSTALL="yes"
file: ./test/dkms_nover_test/dkms.conf
PACKAGE_NAME[0]=dkms_nover_test
PACKAGE_VERSION[0]=1.0
BUILT_MODULE_NAME[0]=dkms_nover_test
DEST_MODULE_LOCATION[0]=/kernel/extra
AUTOINSTALL[0]=yes


PACKAGE_NAME="dkms_nover_update_test"
PACKAGE_VERSION="1.0"
BUILT_MODULE_NAME="dkms_nover_update_test"

# MAKE="make -C /lib/modules/${kernelver}/build SUBDIRS=${dkms_tree}/${PACKAGE_NAME}/${PACKAGE_VERSION}/build modules"
# CLEAN="make -C /lib/modules/${kernelver}/build SUBDIRS=${dkms_tree}/${PACKAGE_NAME}/${PACKAGE_VERSION}/build  M=$PWD clean"

AUTOINSTALL="yes"

DEST_MODULE_LOCATION="/kernel/extra"

file: ./test/dkms_nover_update_test/1.0/dkms.conf
PACKAGE_NAME[0]=dkms_nover_update_test
PACKAGE_VERSION[0]=1.0
BUILT_MODULE_NAME[0]=dkms_nover_update_test
DEST_MODULE_LOCATION[0]=/kernel/extra
AUTOINSTALL[0]=yes


PACKAGE_NAME="dkms_nover_update_test"
PACKAGE_VERSION="2.0"
BUILT_MODULE_NAME="dkms_nover_update_test"

# MAKE="make -C /lib/modules/${kernelver}/build SUBDIRS=${dkms_tree}/${PACKAGE_NAME}/${PACKAGE_VERSION}/build modules"
# CLEAN="make -C /lib/modules/${kernelver}/build SUBDIRS=${dkms_tree}/${PACKAGE_NAME}/${PACKAGE_VERSION}/build  M=$PWD clean"

AUTOINSTALL="yes"

DEST_MODULE_LOCATION="/kernel/extra"

file: ./test/dkms_nover_update_test/2.0/dkms.conf
PACKAGE_NAME[0]=dkms_nover_update_test
PACKAGE_VERSION[0]=2.0
BUILT_MODULE_NAME[0]=dkms_nover_update_test
DEST_MODULE_LOCATION[0]=/kernel/extra
AUTOINSTALL[0]=yes


PACKAGE_NAME="dkms_nover_update_test"
PACKAGE_VERSION="3.0"
BUILT_MODULE_NAME="dkms_nover_update_test"

# MAKE="make -C /lib/modules/${kernelver}/build SUBDIRS=${dkms_tree}/${PACKAGE_NAME}/${PACKAGE_VERSION}/build modules"
# CLEAN="make -C /lib/modules/${kernelver}/build SUBDIRS=${dkms_tree}/${PACKAGE_NAME}/${PACKAGE_VERSION}/build  M=$PWD clean"

AUTOINSTALL="yes"

DEST_MODULE_LOCATION="/kernel/extra"

file: ./test/dkms_nover_update_test/3.0/dkms.conf
PACKAGE_NAME[0]=dkms_nover_update_test
PACKAGE_VERSION[0]=3.0
BUILT_MODULE_NAME[0]=dkms_nover_update_test
DEST_MODULE_LOCATION[0]=/kernel/extra
AUTOINSTALL[0]=yes

PACKAGE_NAME="dkms_test"
PACKAGE_VERSION="1.0"
BUILT_MODULE_NAME[0]="dkms_test"
DEST_MODULE_LOCATION[0]="/kernel/extra"
AUTOINSTALL="yes"
file: ./test/dkms_test-1.0/dkms.conf
PACKAGE_NAME[0]=dkms_test
PACKAGE_VERSION[0]=1.0
BUILT_MODULE_NAME[0]=dkms_test
DEST_MODULE_LOCATION[0]=/kernel/extra
AUTOINSTALL[0]=yes

